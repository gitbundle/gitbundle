# Application name (used as the GitBundle service identifier).
# Default: GitBundle
GITBUNDLE_APP_NAME=

# Instance ID. If not supplied the machine's hostname is used.
# NOTE: If the value is not provided the hostname of the machine is used.
GITBUNDLE_INSTANCE_ID=

# Enable DEBUG level logging. For better performance set false.
GITBUNDLE_DEBUG=

# Enable TRACE level logging. For better performance set false.
GITBUNDLE_TRACE=

# Maximum time to wait for the server gracefully shutdown.
# Default: 5m
GITBUNDLE_GRACEFUL_SHUTDOWN_TIMEOUT=

# Enable user signup or not.
# Default: false
GITBUNDLE_USER_SIGNUP_ENABLED=

# Support nested groups or not.
# Default: false
GITBUNDLE_NESTED_GROUPS_ENABLED=

# Enable public accessible resources creation or not.
# Default: true.
GITBUNDLE_PUBLIC_RESOURCE_CREATION_ENABLED=

# -----------------------------------------------------------------
# URL configuration (external entry points)
# -----------------------------------------------------------------
# Base is used to generate external facing URLs in case they aren't provided explicitly.
# Value is derived from http server unless explicitly specified (e.g. http://example.com).
GITBUNDLE_URL_BASE=

# Git defines the external URL via which the GIT API is reachable.
# NOTE: for routing to work properly, the request path & hostname reaching
# gitbundle have to statisfy the following conditions:
# - Hostname is different to API hostname
#
# (this could be after proxy path / header rewrite).
# Value is derived from Base unless explicitly specified (e.g. http://git.example.com).
GITBUNDLE_URL_GIT=

# GitSSH defines the external URL via which the GIT SSH server is
# reachable. Value is derived from Base or SSH Config unless
# explicitly specified (e.g. ssh://git.example.com).
GITBUNDLE_URL_GIT_SSH=

# API defines the external URL via which the rest API is reachable.
# NOTE: for routing to work properly, the request path reaching gitbundle
# has to end with `/api` (this could be after proxy path rewrite).
# Value is derived from Base unless explicitly specified (e.g. http://example.com/api).
GITBUNDLE_URL_API=

# UI defines the external URL via which the UI is reachable.
# Value is derived from Base unless explicitly specified (e.g. http://example.com).
GITBUNDLE_URL_UI=

# Internal defines the internal URL via which the service is reachable.
# Value is derived from HTTP.Server unless explicitly specified (e.g. http://localhost:8080).
GITBUNDLE_URL_INTERNAL=

# Container is the endpoint that can be used by running container builds
# to communicate with gitbundle (for example while performing a clone
# on a local repo). host.docker.internal allows a running container to
# talk to services exposed on the host (either running directly or via
# a port exposed in a docker container). Value is derived from HTTP.Server unless explicitly specified (e.g. http://host.docker.internal:8080).
GITBUNDLE_URL_CONTAINER=

# -----------------------------------------------------------------
# Git configuration
# -----------------------------------------------------------------
# Git storage backend (currently only `local` is supported).
# - local
#
# Default: local
GITBUNDLE_GIT_STORAGE_PROVIDER=

# Specify the default branch for new repositories.
# Default: main
GITBUNDLE_GIT_DEFAULT_BRANCH=

# Root directory for all Git‑related data (repos, objects, …).
# Default: ~/.gitbundle
GITBUNDLE_GIT_ROOT=

# Path to the gitbundle executable used as the Git hook.
# If not specified, the path will be resolved automatically at runtime.
GITBUNDLE_GIT_HOOK_PATH=

# -----------------------------------------------------------------
# Encrypter configuration (sensitive data encryption)
# -----------------------------------------------------------------
# Secret key (32 bytes) for Aes256Gcm encryption; empty disables encryption.
GITBUNDLE_ENCRYPTER_SECRET=

# When encrypt or decrypt failed, return the raw content.
# Default: false
GITBUNDLE_ENCRYPTER_MIXED_CONTENT=

# -----------------------------------------------------------------
# HTTP server configuration
# -----------------------------------------------------------------
# Also for internal http api. Default will be bind to all interfaces.
# Default: 0.0.0.0
GITBUNDLE_HTTP_HOST=

# HTTPS will use http_port + 443, for startand http port 80, https will be
# set 443 directly.
# Default: 8080
#
# For internal http api (used for githooks) follow below strategies:
# 1. On windows systems will use http_port + 10000, default is 18080.
# 2. On unix-like systems will use socket, no port number limitation.
#
# The port and port+10000 must be a valid port number between 1 and 65535.
# Or the server will not start and show a overflow panic error.
GITBUNDLE_HTTP_PORT=

# TLS certificate path for HTTPS (auto‑generated if empty).
GITBUNDLE_HTTP_CERT=

# TLS private key path for HTTPS (auto‑generated if empty).
GITBUNDLE_HTTP_KEY=

# -----------------------------------------------------------------
# SSH server configuration
# -----------------------------------------------------------------
# Enable the SSH server.
# Default: true
GITBUNDLE_SSH_ENABLE=

# Address to bind the SSH server to.
# Default: 0.0.0.0
GITBUNDLE_SSH_HOST=

# Port for the SSH server.
# Default: 8022
GITBUNDLE_SSH_PORT=

# Default username for generating URLs like `{user}@host:path`.
# Default: git
GITBUNDLE_SSH_DEFAULT_USER=

# List of allowed SSH cipher suites (comma‑separated). Leave empty for defaults.
GITBUNDLE_SSH_CIPHERS=

# List of allowed SSH key‑exchange algorithms (comma‑separated).
GITBUNDLE_SSH_KEY_EXCHANGES=

# List of allowed SSH MAC algorithms (comma‑separated).
GITBUNDLE_SSH_MACS=

# Paths to the server host private keys (comma‑separated, may contain several keys).
GITBUNDLE_SSH_SERVER_HOST_KEYS=

# Keep‑alive interval for SSH connections.
# Default: 5 seconds
GITBUNDLE_SSH_KEEPALIVE_INTERVAL=

# The path to the SSH server key file.
# Default: "ssh/gitbundle.rsa"
GITBUNDLE_SSH_SERVER_KEY_PATH=

# -----------------------------------------------------------------
# Database configuration
# -----------------------------------------------------------------
# Name of the database.
# Default: gitbundle
GITBUNDLE_DATABASE_NAME=

# The database connection string.
#
# mysql://root:root@localhost:3306 (not well tested)
# postgres://root:root@localhost:5432 (recommended)
# sqlite:./sqlite.db?mode=rwc (not well tested)
#
# Default: sqlite:./sqlite.db?mode=rwc
GITBUNDLE_DATABASE_URL=

# -----------------------------------------------------------------
# Blob store configuration
# -----------------------------------------------------------------
# Backend provider for blob storage (currently only `filesystem`).
# - filesystem
GITBUNDLE_BLOB_STORE_PROVIDER=

# Bucket is a path to the directory where the files will be stored when
# using filesystem blob storage, in case of gcs provider this will be
# the actual bucket where the images are stored.
# Default: ~/.gitbundle/blob
GITBUNDLE_BLOB_STORE_BUCKET=

# In case of GCS provider, this is expected to be the path to the service account key file.
# NOTE: As currently only filesystem provider is supported. Just ignore this.
GITBUNDLE_BLOB_STORE_KEY_PATH=

# -----------------------------------------------------------------
# Token (authentication) configuration
# -----------------------------------------------------------------
# Cookie name that stores the token.
# Default: token
GITBUNDLE_TOKEN_COOKIE_NAME=

# Cookie expiration duration.
# Default: 720h (30 days)
GITBUNDLE_TOKEN_EXPIRE=

# -----------------------------------------------------------------
# System bot user configuration
# -----------------------------------------------------------------
# UID of the system bot.
# Default: gitbundle-system-default
GITBUNDLE_USER_SYSTEM_UID=

# Display name of the system bot.
# Default: GitBundle System Default
GITBUNDLE_USER_SYSTEM_DISPLAY_NAME=

# Email address of the system bot.
# Default: gitbundle-system-default@example.com
GITBUNDLE_USER_SYSTEM_EMAIL=

# -----------------------------------------------------------------
# Action bot user configuration
# -----------------------------------------------------------------
# UID of the action bot.
# Default: gitbundle-action-default
GITBUNDLE_USER_ACTION_UID=

# Display name of the action bot.
# Default: GitBundle Action Default
GITBUNDLE_USER_ACTION_DISPLAY_NAME=

# Email address of the action bot.
# Default: gitbundle-action-default@example.com
GITBUNDLE_USER_ACTION_EMAIL=

# -----------------------------------------------------------------
# Admin user configuration
# -----------------------------------------------------------------
# UID of the default admin.
# Default: root
GITBUNDLE_USER_ADMIN_UID=

# Display name of the admin.
# Default: Root Administrator
GITBUNDLE_USER_ADMIN_DISPLAY_NAME=

# Email address of the admin (optional).
GITBUNDLE_USER_ADMIN_EMAIL=

# Password of the admin (optional). If empty, the admin user is not auto‑created.
GITBUNDLE_USER_ADMIN_PASSWORD=

# -----------------------------------------------------------------
# CI logs configuration
# -----------------------------------------------------------------
# The ci logs storage service provider, could be one of the following:
# - database: Store logs in a database.
# - s3: Store logs in an S3 bucket.
#
# Default: database
GITBUNDLE_LOGS_PROVIDER=

# ----- S3 specific fields (only used when LOGS_PROVIDER = s3) -----
# Used for s3 logs storage provider.

GITBUNDLE_LOGS_S3_BUCKET=


GITBUNDLE_LOGS_S3_PREFIX=


GITBUNDLE_LOGS_S3_ENDPOINT=

# Use path‑style URLs for S3 (true/false).
# Default: false
GITBUNDLE_LOGS_S3_PATH_STYLE=

# -----------------------------------------------------------------
# CORS configuration (The http cors configuration)
# -----------------------------------------------------------------
# Allowed origins (comma‑separated).
# Default: *
GITBUNDLE_CORS_ALLOWED_ORIGINS=

# Allowed HTTP methods (comma‑separated).
# Default: GET,POST,PATCH,PUT,DELETE,OPTIONS
GITBUNDLE_CORS_ALLOWED_METHODS=

# Allowed request headers (comma‑separated).
# Default: Origin,Accept,Accept-Language,Authorization,Content-Type,Content-Language,X-Requested-With,X-Request-Id
GITBUNDLE_CORS_ALLOWED_HEADERS=

# Headers exposed to browsers.
# Default: Link
GITBUNDLE_CORS_EXPOSED_HEADERS=

# Whether credentials (cookies, auth headers) are allowed.
# Default: true
GITBUNDLE_CORS_ALLOW_CREDENTIALS=

# Max‑age (in seconds) for pre‑flight request caching.
# Default: 300
GITBUNDLE_CORS_MAX_AGE=

# -----------------------------------------------------------------
# Redis configuration
# -----------------------------------------------------------------
# The redis mode
# - standalone
# - sentinel
# - cluster
#
# NOTE: Currently only standalone is supported.
GITBUNDLE_REDIS_MODE=

# Maximum retry attempts (cluster mode only).
# Default: 3
GITBUNDLE_REDIS_MAX_RETRIES=

# Username for Redis AUTH (optional).
GITBUNDLE_REDIS_USERNAME=

# Password for Redis AUTH (optional).
GITBUNDLE_REDIS_PASSWORD=

# Username for Sentinel AUTH (optional).
GITBUNDLE_REDIS_SENTINEL_USERNAME=

# Password for Sentinel AUTH (optional).
GITBUNDLE_REDIS_SENTINEL_PASSWORD=

# Redis endpoint (only for standalone mode) (e.g. localhost:6379).
GITBUNDLE_REDIS_ENDPOINT=

# List of node endpoints for cluster mode (comma‑separated).
GITBUNDLE_REDIS_CLUSTER_ENDPOINTS=

# Master name for Sentinel mode.
GITBUNDLE_REDIS_SENTINEL_MASTER=

# Replica name for Sentinel mode.
GITBUNDLE_REDIS_SENTINEL_REPLICA=

# Sentinel endpoints (comma‑separated) for Sentinel mode.
GITBUNDLE_REDIS_SENTINEL_ENDPOINTS=

# -----------------------------------------------------------------
# Events system configuration
# -----------------------------------------------------------------
# Backend for the event system
# - memory
# - redis
#
# Default: memory
GITBUNDLE_EVENTS_PROVIDER=

# Event group name (used to isolate events in shared Redis instances).
# Default: gitbundle
GITBUNDLE_EVENTS_GROUP=

# Maximum length of a single stream.
# Default: 10000
GITBUNDLE_EVENTS_MAX_STREAM_LENGTH=

# Use approximate trimming (`XTRIM ~`) if true.
# Default: true
GITBUNDLE_EVENTS_APPROX_MAX_STREAM_LENGTH=

# -----------------------------------------------------------------
# Distributed lock configuration
# -----------------------------------------------------------------
# Provider for distributed locks
# - memory
# - redis
#
# Default: memory
GITBUNDLE_LOCK_PROVIDER=

# Default lock expiration time.
# Default: 8s
GITBUNDLE_LOCK_EXPIRY=

# Number of attempts to acquire a lock.
# Default: 3
GITBUNDLE_LOCK_TRIES=

# Delay between lock retry attempts.
# Default: 250ms
GITBUNDLE_LOCK_RETRY_DELAY=

# Drift factor used when calculating lock expiration.
# Default: 0.01
GITBUNDLE_LOCK_DRIFT_FACTOR=

# Timeout factor used when calculating lock timeout.
# Default: 0.01
GITBUNDLE_LOCK_TIMEOUT_FACTOR=

# Prefix for lock keys (helps avoid key collisions).
# Default: gitbundle
GITBUNDLE_LOCK_APP_GROUP=

# Default group used when a lock does not specify its own group.
# Default: default
GITBUNDLE_LOCK_DEFAULT_GROUP=

# -----------------------------------------------------------------
# Pub/Sub configuration
# -----------------------------------------------------------------
# Provider for pub/sub (`memory` or `redis`).
# - memory
# - redis
#
# Default: memory
GITBUNDLE_PUBSUB_PROVIDER=

# Prefix for pub/sub keys (helps avoid collisions).
# Default: gitbundle
GITBUNDLE_PUBSUB_APP_GROUP=

# Default group used if a channel does not specify one.
# Default: default
GITBUNDLE_PUBSUB_DEFAULT_GROUP=

# Health‑check interval for the pub/sub service.
# Default: 3s
GITBUNDLE_PUBSUB_HEALTH_INTERVAL=

# Timeout for sending a message.
# Default: 60s
GITBUNDLE_PUBSUB_SEND_TIMEOUT=

# Channel buffer size.
# Default: 100
GITBUNDLE_PUBSUB_CHANNEL_SIZE=

# -----------------------------------------------------------------
# Background jobs configuration
# -----------------------------------------------------------------
# Maximum number of background jobs that may run concurrently.
# Default: 10
GITBUNDLE_BACKGROUND_JOBS_MAX_RUNNING=

# Retention time for finished/failed jobs.
# Default: 120h
GITBUNDLE_BACKGROUND_JOBS_RETENTION_TIME=

# -----------------------------------------------------------------
# Webhook configuration (NOT READY YET)
# -----------------------------------------------------------------
# Identifier used for the `User-Agent` header (no version).
# IMPORTANT: do not include version.
# Default: GitBundle
GITBUNDLE_WEBHOOK_USER_AGENT_IDENTITY=

# Identifier used for custom webhook headers (e.g. X‑GitBundle‑Trigger).
# If empty, falls back to the User‑Agent.
GITBUNDLE_WEBHOOK_HEADER_IDENTITY=

# Number of webhooks that can run concurrently.
# Default: 4
GITBUNDLE_WEBHOOK_CONCURRENCY=

# Maximum retries for a single webhook.
# Default: 3
GITBUNDLE_WEBHOOK_MAX_RETRIES=

# Allow webhook calls to private network addresses.
# Default: false
GITBUNDLE_WEBHOOK_ALLOW_PRIVATE_NETWORK=

# Allow webhook calls to loopback addresses (127.0.0.1, ::1).
# Default: false
GITBUNDLE_WEBHOOK_ALLOW_LOOPBACK=

# Retention period for webhook execution records.
# Default: 168h (7 days)
GITBUNDLE_WEBHOOK_RETENTION_TIME=

# -----------------------------------------------------------------
# Repository size statistics configuration
# -----------------------------------------------------------------
# Enable repository size calculation job.
# Default: true
GITBUNDLE_REPO_SIZE_ENABLED=

# Cron expression for the size calculation job.
# Default: "0 0 * * * *"
GITBUNDLE_REPO_SIZE_CRON=

# Maximum duration a size calculation may run.
# Default: 15m
GITBUNDLE_REPO_SIZE_MAX_DURATION=

# Number of worker threads for size calculation.
# Default: 5
GITBUNDLE_REPO_SIZE_NUM_WORKERS=

# Default repository size limit in bytes.
# Default: 104857600 (100 MiB)
GITBUNDLE_REPO_SIZE_LIMIT=

# -----------------------------------------------------------------
# CODEOWNERS configuration
# -----------------------------------------------------------------
# Paths to look for CODEOWNERS files inside each repository (comma‑separated).
# Default: CODEOWNERS,.gitbundle/CODEOWNERS
GITBUNDLE_CODEOWNERS_FILE_PATHS=

# -----------------------------------------------------------------
# SMTP configuration (email sending)
# -----------------------------------------------------------------
# SMTP connection mode.
#
# This option controls how the application establishes the SMTP
# connection when using the built-in SMTP client.
#
# NOTES:
#   REQUIRED when `GITBUNDLE_SMTP_CERT_PATH` is NOT set.
#   MUST NOT be set when `GITBUNDLE_SMTP_CERT_PATH` IS set.
#
# Supported values:
#
# - tls
#   Connect directly using TLS/SSL.
#   Commonly used with port 465.
#   Internally corresponds to lettre::SmtpTransport::relay()
#   with Tls::Required.
#
# - starttls
#   Connect in plaintext first, then upgrade to TLS via STARTTLS.
#   Commonly used with port 587.
#   Internally corresponds to lettre::SmtpTransport::starttls_relay().
#
# Example:
#   GITBUNDLE_SMTP_MODE=tls
GITBUNDLE_SMTP_MODE=

# SMTP server hostname.
#
# The DNS hostname or IP address of the SMTP server.
#
# Examples:
#   smtp.gmail.com
GITBUNDLE_SMTP_HOST=

# SMTP server port.
#
# NOTES:
#   REQUIRED when `GITBUNDLE_SMTP_CERT_PATH` IS set.
#   MUST NOT be set when `GITBUNDLE_SMTP_CERT_PATH` is NOT set.
#
# This is only used when a custom CA or self-signed certificate
# is provided via `GITBUNDLE_SMTP_CERT_PATH`.
#
# Example:
#   GITBUNDLE_SMTP_PORT=465
GITBUNDLE_SMTP_PORT=

# SMTP authentication username.
#
# Usually the full email address or account name required
# by the SMTP provider.
GITBUNDLE_SMTP_USERNAME=

# SMTP authentication password.
#
# This is the password or SMTP authorization token for the account.
#
# WARNING:
#   Avoid committing this value into version control.
#   Use environment variables or secret managers instead.
GITBUNDLE_SMTP_PASSWORD=

# Sender email address.
#
# This address will be used as the "From" field when sending emails.
#
# Example:
#   no-reply@example.com
GITBUNDLE_SMTP_FROM_MAIL=

# Path to a custom CA or self-signed certificate in PEM format.
#
# (NOTES) When this option IS set:
# - A custom TLS configuration is used
# - `GITBUNDLE_SMTP_MODE` MUST NOT be set
# - `GITBUNDLE_SMTP_PORT` MUST be provided
#
# (NOTES) When this option is NOT set:
# - Standard SMTP relay / STARTTLS mode is used
# - `GITBUNDLE_SMTP_MODE` MUST be provided
# - `GITBUNDLE_SMTP_PORT` MUST NOT be set
#
# This is typically required for:
# - Internal mail servers
# - Self-hosted SMTP services
# - Private CA or self-signed certificates
#
# Example:
#   GITBUNDLE_SMTP_CERT_PATH=/etc/ssl/certs/internal-mail.pem
GITBUNDLE_SMTP_CERT_PATH=

# -----------------------------------------------------------------
# Notification configuration, (NOT READY YET)
# -----------------------------------------------------------------
# Maximum retries for each notification.
# Default: 3
GITBUNDLE_NOTIFICATION_MAX_RETRIES=

# Number of notifications that can be processed concurrently.
# Default: 4
GITBUNDLE_NOTIFICATION_CONCURRENCY=

# -----------------------------------------------------------------
# Keyword search configuration
# -----------------------------------------------------------------
# Backend provider for keyword search.
# - local
#
# Default: local
GITBUNDLE_KEYWORD_SEARCH_PROVIDER=

# Number of concurrent search workers.
# Default: 4
GITBUNDLE_KEYWORD_SEARCH_CONCURRENCY=

# Maximum retries for a search operation.
# Default: 3
GITBUNDLE_KEYWORD_SEARCH_MAX_RETRIES=

# -----------------------------------------------------------------
# Repository management configuration
# -----------------------------------------------------------------
# Retention time for deleted repositories.
# Default: 2160h (90 days)
GITBUNDLE_REPOS_DELETED_RETENTION_TIME=

# -----------------------------------------------------------------
# Stream (message‑queue) configuration
# -----------------------------------------------------------------
# Number of Tokio tasks handling the stream.
# Default: 2
GITBUNDLE_STREAM_CONCURRENCY=

# Maximum idle time before an unacknowledged message can be claimed by another consumer.
# Default: 60s
GITBUNDLE_STREAM_IDLE_TIMEOUT=

# Maximum retry count for a stream message.
# Default: 3
GITBUNDLE_STREAM_MAX_RETRIES=

# -----------------------------------------------------------------
# Runner (job executor) configuration
# -----------------------------------------------------------------
# Cache backend used by runners.
#
# Supported values:
# - `memory`: in-process cache (default)
# - `redis`: shared Redis cache
#
# Default: memory
GITBUNDLE_RUNNER_CACHE_PROVIDER=

# Soft idle threshold used for scheduling preference.
#
# When multiple runners with different scopes (repo, group, system)
# satisfy the job requirements, runners whose idle time exceeds this
# duration will receive a lower scheduling weight.
#
# This does NOT make the runner ineligible; it only reduces its
# likelihood of being selected.
#
# This setting has no effect unless `runner_scope_fallback` is enabled.
#
# Default: 90s
GITBUNDLE_RUNNER_IDLE_TIMEOUT=

# Long-poll timeout when a runner's queue is empty.
#
# This controls how long a runner will block while waiting for a new job
# when no job is immediately available. After this duration elapses,
# the poll returns `None` and the runner may retry.
#
# A shorter value improves responsiveness to new jobs, while a longer value
# reduces polling overhead.
#
# Note: This timeout only affects long-polling behavior and does NOT
# influence scheduling preference or runner offline detection.
# See `runner_idle_timeout` and `runner_offline_timeout` for those purposes.
#
# Default: 60s
GITBUNDLE_RUNNER_POLL_TIMEOUT=

# Whether to allow scheduling a job to a runner with a broader scope
# when a runner with a narrower (more specific) scope is available.
#
# For example, when a job is scoped to `repo`:
# - If enabled, the job may be scheduled to a `group` or `system` scoped runner
#   with matching environment and labels.
# - If disabled, only runners with the exact or narrower scope are eligible,
#   unless all of them are offline.
#
# This setting controls *scope escalation*, not runner availability.
#
# Default: true
GITBUNDLE_RUNNER_SCOPE_FALLBACK=

# Time-to-live for cached job keys when Redis is used as the cache backend.
#
# Default: 24h
GITBUNDLE_RUNNER_REDIS_TTL=

# Key prefix used for all Redis cache entries.
#
# This helps isolate runner data when sharing a Redis instance.
#
# Default: `gitbundle-runner`
GITBUNDLE_RUNNER_REDIS_KEYPREFIX=

# Cron expression for periodically updating runner status.
#
# This task is responsible for emitting heartbeats used by
# `runner_offline_timeout` to determine runner availability.
#
# Default: "*/5 * * * * *" (every 5 seconds)
GITBUNDLE_RUNNER_STATUS_CRON=

# Maximum duration since a runner’s last successful heartbeat
# before it is considered **offline**.
#
# If no heartbeat or status update is received within this window,
# the runner is marked offline and becomes ineligible for scheduling.
#
# This value is typically derived from `runner_idle_timeout` to allow
# tolerance for transient delays.
#
# Default: 5m (5 minutes, `runner_poll_timeout * 5`)
GITBUNDLE_RUNNER_LIVENESS_TIMEOUT=

# -----------------------------------------------------------------
# Artifact Server Configuration
# -----------------------------------------------------------------
# Configuration options for the built-in artifact server.
#
# The artifact server is responsible for serving and managing
# workflow artifacts generated during job execution.
# Address used by runners to access the artifact server.
#
# This address is **not** merely a bind address. It is the address that
# runners will use to download artifacts, and therefore **must be reachable
# from the runner environment**.
#
# This address **must remain reachable for the entire lifetime of a workflow**.
# If jobs are executed inside containers, the address must also be reachable
# from within those containers (for example, via container networking).
#
# There is **no default value** for this field. The server will refuse to
# start if it is not configured.
#
# Automatic IP detection is intentionally not supported, as it is unreliable
# in environments with VPNs, multiple network interfaces, containers, or
# NAT.
#
# Examples:
# - `192.168.1.10`
# - `10.0.0.5`
# - `artifact.example.com`
#
# NOTE:
# `0.0.0.0` is not a valid value here, as it is not a routable address
# and cannot be used by runners to connect to the server.
GITBUNDLE_ARTIFACT_HOST=

# TCP port on which the artifact server listens.
#
# The value may be provided as either a number or a string
# in the configuration file.
#
# Default: `8081`
GITBUNDLE_ARTIFACT_PORT=

# Filesystem path used to store and serve artifacts.
#
# This directory will be created automatically if it does not exist.
#
# Default: `~/.gitbundle/artifacts`
GITBUNDLE_ARTIFACT_PATH=

# -----------------------------------------------------------------
# Artifact Cache Configuration
# -----------------------------------------------------------------
# Configuration options for the built-in artifact cache server.
#
# The artifact cache server is responsible for storing and serving
# **cached artifacts** that can be reused across workflow runs,
# such as dependency caches or build outputs.
#
# Unlike the artifact server, the cache server is **not tied to the
# lifetime of a single workflow**. Cached data may persist across
# multiple workflows and executions, subject to cache eviction
# policies.
# Address used by runners to access the artifact cache server.
#
# This is **not** merely a bind address. It is the address that
# runners will use to upload and download cached artifacts, and
# therefore **must be reachable from the runner environment**.
#
# If jobs are executed inside containers, this address must also
# be reachable from within those containers (for example, via
# container networking).
#
# There is **no default value** for this field. The cache server
# will refuse to start if it is not configured.
#
# Automatic IP detection is intentionally not supported, as it is
# unreliable in environments with VPNs, multiple network
# interfaces, containers, or NAT.
#
# Examples:
# - `192.168.1.10`
# - `10.0.0.5`
# - `cache.example.com`
#
# NOTE:
# `0.0.0.0` is not a valid value here, as it is not a routable
# address and cannot be used by runners to connect to the cache
# server.
GITBUNDLE_ARTIFACTCACHE_HOST=

# TCP port on which the artifact cache server listens.
#
# The value may be provided as either a number or a string in the
# configuration file.
#
# Default: `8082`
GITBUNDLE_ARTIFACTCACHE_PORT=

# Filesystem path used to store cached artifacts.
#
# Cached data is expected to be **persistent across workflow
# runs**, and this directory should typically be located on
# durable storage.
#
# The directory will be created automatically if it does not
# exist.
#
# Default: `~/.gitbundle/artifactscache`
GITBUNDLE_ARTIFACTCACHE_PATH=

# -----------------------------------------------------------------
# Verification configuration
#
# Controls how one-time authentication tokens are generated,
# protected, stored, and validated.
#
# These tokens are used for:
# - Email verification
# - Password reset
# -----------------------------------------------------------------
# Backend provider used to store one-time authentication tokens.
#
# Supported values:
#   - memory : In-memory storage (single-node, non-persistent)
#              Recommended for standalone or development setups.
#
#   - redis  : Redis-backed storage
#              Required for clustered or multi-instance deployments.
#
# Default: memory
#
# NOTE:
# When using "memory", all verification tokens are lost on process
# restart.
GITBUNDLE_VERIFICATION_PROVIDER=

# Secret used to enable cryptographic protection for one-time
# authentication tokens.
#
# When set, this value is used to derive a symmetric encryption key
# (AES-256-GCM) that provides confidentiality and integrity protection.
#
# SECURITY WARNING:
# If this value is NOT set, verification tokens are NOT encrypted.
# Only a base64 encoding of partial user-identifying information is used.
#
# This mode provides NO cryptographic security and MUST NOT be used
# in production environments.
#
# Changing this value will immediately invalidate all previously
# issued verification tokens.
#
# Production deployments MUST configure a strong, high-entropy secret.
#
# Example (recommended for production):
#   GITBUNDLE_VERIFICATION_SECRET="$(openssl rand -base64 24 | tr -d '\n')"
GITBUNDLE_VERIFICATION_SECRET=

# Maximum time-to-live (TTL) for one-time authentication tokens.
#
# Tokens expire automatically after this duration and cannot be reused.
#
# The value MUST be a valid human-readable duration string,
# for example:
#   - 10m   (10 minutes)
#   - 1h    (1 hour)
#   - 30s   (30 seconds)
#
# Default: 10m
#
# SECURITY NOTE:
# Shorter TTL values reduce the risk of token leakage but may
# impact user experience.
GITBUNDLE_VERIFICATION_TTL=
